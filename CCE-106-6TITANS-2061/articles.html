<!DOCTYPE html>
<html lang="en">
  <head>
     <style>
      #authButtons { visibility: hidden; }
    </style>
    <link rel="stylesheet" href="assets/css/profile.css" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fitness Tips & Articles - 6Titans</title>
    <link rel="stylesheet" href="assets/css/styles-base.css" />
    <link rel="stylesheet" href="assets/css/auth.css" />
  <link rel="stylesheet" href="assets/css/article.css" />
  <link rel="stylesheet" href="assets/css/auth-nav.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <!-- Authentication UI Script -->
    <script type="module">
      import { initializeApp, getApps } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js";
      import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-auth.js";
      import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-firestore.js";
      import { getDatabase, ref, onValue, update } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-database.js";
      
      const firebaseConfig = {
        apiKey: "AIzaSyC2YE5Cn0gbiuQ5sq8lErotl01itq5-hYk",
        authDomain: "titans-8d454.firebaseapp.com",
        projectId: "titans-8d454",
        storageBucket: "titans-8d454.firebasestorage.app",
        messagingSenderId: "537648978979",
        appId: "1:537648978979:web:30eb90af77c7569b7be596",
        measurementId: "G-W1D2R0Q1L1",
        databaseURL: "https://titans-8d454-default-rtdb.firebaseio.com"
      };
      
      let app;
      if (!getApps().length) {
        app = initializeApp(firebaseConfig);
      } else {
        app = getApps()[0];
      }
      
      const auth = getAuth(app);
      const db = getFirestore(app);
      const rtdb = getDatabase(app);
      
      function showUserUI(userData) {
        const authButtons = document.getElementById('authButtons');
        const isAdmin = userData && (userData.accountType === 'admin' || userData.role === 'admin');
        const isCoach = userData && (userData.accountType === 'coach' || userData.role === 'coach');
        
        if (authButtons) {
          authButtons.style.visibility = 'visible';
          authButtons.innerHTML = `
            <div class="profile-dropdown ${isAdmin ? 'admin-profile' : ''}" id="profileDropdown">
              <button class="profile-btn" id="profileBtn">
                <span class="profile-avatar">üë§</span>
                <span id="navUserName">${isAdmin ? 'Admin' : (userData && userData.firstName ? userData.firstName : 'User')}</span>
                <i class="fa fa-caret-down"></i>
              </button>
              <div class="profile-menu" id="profileMenu">
                <div class="profile-menu-header">
                  <span id="profileMenuName">${isAdmin ? 'Admin' : (userData && userData.firstName ? userData.firstName : 'User')} ${!isAdmin && userData && userData.lastName ? userData.lastName : ''}</span><br>
                  <small id="profileMenuEmail">${userData && userData.email ? userData.email : ''}</small>
                </div>
                <ul class="profile-menu-list">
                  <li><a href="${isAdmin ? 'admin.html' : (isCoach ? 'coach-dashboard.html' : 'user-dashboard.html')}">${isAdmin ? 'Admin Panel' : 'Dashboard'}</a></li>
                  <li><button id="logoutBtnNav">Logout</button></li>
                </ul>
              </div>
            </div>
          `;
          
          const dropdown = document.getElementById('profileDropdown');
          const btn = document.getElementById('profileBtn');
          if (btn && dropdown) {
            btn.addEventListener('click', (e) => {
              e.stopPropagation();
              dropdown.classList.toggle('open');
            });
            document.addEventListener('click', (e) => {
              if (!dropdown.contains(e.target)) dropdown.classList.remove('open');
            });
          }
          
          const logoutBtn = document.getElementById('logoutBtnNav');
          if (logoutBtn) {
            logoutBtn.addEventListener('click', async (e) => {
              e.preventDefault();
              try {
                await signOut(auth);
                window.location.href = 'index.html';
              } catch (error) {
                alert('Logout failed: ' + error.message);
              }
            });
          }
        }
      }
      
      function showGuestUI() {
        const authButtons = document.getElementById('authButtons');
        if (authButtons) {
          authButtons.style.visibility = 'visible';
          authButtons.innerHTML = `
            <a href="login.html" id="loginBtnNav">Login</a>
            <a href="register.html" id="signupBtnNav">Sign Up</a>
          `;
        }
      }
      
      onAuthStateChanged(auth, async (user) => {
        if (user) {
          try {
            const userDoc = await getDoc(doc(db, "users", user.uid));
            const userData = userDoc.exists() ? userDoc.data() : null;
            showUserUI(userData);
          } catch (error) {
            console.error('Error fetching user data:', error);
            showGuestUI();
          }
        } else {
          showGuestUI();
        }
      });
    </script>
  </head>
  <body>
    <!-- Navigation -->
    <nav class="navbar">
      <div class="nav-container">
        <div class="nav-logo">
          <img src="images/image 66.png" alt="6Titans Logo" class="logo-icon" />
          <img src="images/image 67.png" alt="6Titans" class="logo-text" />
        </div>
        <ul class="nav-menu">
          <li class="nav-item">
            <a href="index.html" class="nav-link">Home</a>
          </li>
          <li class="nav-item">
            <a href="membership.html" class="nav-link">Membership</a>
          </li>
          <li class="nav-item">
            <a href="classes.html" class="nav-link">Classes</a>
          </li>
          <li class="nav-item">
            <a href="workouts.html" class="nav-link">Workouts</a>
          </li>
          <li class="nav-item">
            <a href="coaching.html" class="nav-link">Coaching</a>
          </li>
          
          <li class="nav-item">
            <a href="articles.html" class="nav-link">Articles</a>
          </li>
        </ul>
        <div class="auth-buttons" id="authButtons">
          <a href="login.html" id="loginBtnNav">Login</a>
          <a href="register.html" id="signupBtnNav">Sign Up</a>
        </div>
        <div class="hamburger">
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
        </div>
      </div>
    </nav>

    <!-- Articles Section -->
    <section class="articles">
      <div class="container">
        <h1 class="page-title">Fitness Tips & Articles</h1>

        <!-- Article Tabs -->
        <div class="article-tabs">
          <button class="tab-btn active" data-tab="workout">
            Work-out plans
          </button>
          <button class="tab-btn" data-tab="diet">Diet Plans</button>
        </div>

        <!-- Workout Articles Content -->
        <div id="workoutArticles" class="tab-content active">
          <div class="articles-grid">
            <!-- 10 Essential Exercises for Beginners -->
            <div class="article-card">
              <div class="article-icon">üèãÔ∏è‚Äç‚ôÇÔ∏è</div>
              <h3 class="article-title">
                10 Essential Exercises for Beginners
              </h3>
              <p class="article-description">
                Start your fitness journey with these fundamental movements that
                will build strength and confidence
              </p>
              <div class="article-meta">
                <div class="article-author">
                  <i class="fas fa-user"></i>
                  <span>Erhyl Dhee Toraja</span>
                </div>
                <div class="article-date">
                  <i class="fas fa-calendar"></i>
                  <span>Sept 20, 2025</span>
                </div>
              </div>
              <button class="read-more">Read More</button>
              <div class="article-category">Workout Tips</div>
            </div>

            <!-- Meal Prep Made Simple -->
            <div class="article-card">
              <div class="article-icon">üçé</div>
              <h3 class="article-title">Meal Prep Made Simple</h3>
              <p class="article-description">
                Learn how to prepare healthy meals for the week in just 2 hours
              </p>
              <div class="article-meta">
                <div class="article-author">
                  <i class="fas fa-user"></i>
                  <span>Erhyl Dhee Toraja</span>
                </div>
                <div class="article-date">
                  <i class="fas fa-calendar"></i>
                  <span>Dec 12, 2025</span>
                </div>
              </div>
              <button class="read-more">Read More</button>
              <div class="article-category">Nutrition</div>
            </div>

            <!-- HIIT Workout Benefits -->
            <div class="article-card">
              <div class="article-icon">‚ö°</div>
              <h3 class="article-title">Why HIIT is the Ultimate Fat Burner</h3>
              <p class="article-description">
                Discover the science behind high-intensity interval training and
                why it's so effective for weight loss
              </p>
              <div class="article-meta">
                <div class="article-author">
                  <i class="fas fa-user"></i>
                  <span>Jerard Lavilla</span>
                </div>
                <div class="article-date">
                  <i class="fas fa-calendar"></i>
                  <span>Nov 15, 2025</span>
                </div>
              </div>
              <button class="read-more">Read More</button>
              <div class="article-category">Workout Tips</div>
            </div>

            <!-- Strength Training Guide -->
            <div class="article-card">
              <div class="article-icon">üí™</div>
              <h3 class="article-title">Complete Guide to Strength Training</h3>
              <p class="article-description">
                Everything you need to know about building muscle, from form to
                programming
              </p>
              <div class="article-meta">
                <div class="article-author">
                  <i class="fas fa-user"></i>
                  <span>Charles Cacam</span>
                </div>
                <div class="article-date">
                  <i class="fas fa-calendar"></i>
                  <span>Oct 28, 2025</span>
                </div>
              </div>
              <button class="read-more">Read More</button>
              <div class="article-category">Workout Tips</div>
            </div>

            <!-- Yoga for Beginners -->
            <div class="article-card">
              <div class="article-icon">üßò‚Äç‚ôÄÔ∏è</div>
              <h3 class="article-title">
                Yoga for Beginners: Start Your Journey
              </h3>
              <p class="article-description">
                Learn the basics of yoga and how to incorporate mindfulness into
                your fitness routine
              </p>
              <div class="article-meta">
                <div class="article-author">
                  <i class="fas fa-user"></i>
                  <span>Angelou Carino</span>
                </div>
                <div class="article-date">
                  <i class="fas fa-calendar"></i>
                  <span>Oct 10, 2025</span>
                </div>
              </div>
              <button class="read-more">Read More</button>
              <div class="article-category">Workout Tips</div>
            </div>

            <!-- Recovery and Rest -->
            <div class="article-card">
              <div class="article-icon">üò¥</div>
              <h3 class="article-title">The Importance of Recovery and Rest</h3>
              <p class="article-description">
                Why rest days are crucial for muscle growth and how to optimize
                your recovery
              </p>
              <div class="article-meta">
                <div class="article-author">
                  <i class="fas fa-user"></i>
                  <span>Niel Ian Villaver</span>
                </div>
                <div class="article-date">
                  <i class="fas fa-calendar"></i>
                  <span>Sep 30, 2025</span>
                </div>
              </div>
              <button class="read-more">Read More</button>
              <div class="article-category">Workout Tips</div>
            </div>
          </div>
        </div>

        <!-- Diet Articles Content -->
        <div id="dietArticles" class="tab-content">
          <div class="articles-grid">
            <!-- Protein Guide -->
            <div class="article-card">
              <div class="article-icon">ü•©</div>
              <h3 class="article-title">Complete Protein Guide for Athletes</h3>
              <p class="article-description">
                Everything you need to know about protein intake, timing, and
                sources for optimal performance
              </p>
              <div class="article-meta">
                <div class="article-author">
                  <i class="fas fa-user"></i>
                  <span>Karl Verbo</span>
                </div>
                <div class="article-date">
                  <i class="fas fa-calendar"></i>
                  <span>Dec 5, 2025</span>
                </div>
              </div>
              <button class="read-more">Read More</button>
              <div class="article-category">Nutrition</div>
            </div>

            <!-- Hydration Tips -->
            <div class="article-card">
              <div class="article-icon">üíß</div>
              <h3 class="article-title">
                Hydration: The Key to Peak Performance
              </h3>
              <p class="article-description">
                Learn how proper hydration affects your workouts and overall
                health
              </p>
              <div class="article-meta">
                <div class="article-author">
                  <i class="fas fa-user"></i>
                  <span>Jude Tomonas</span>
                </div>
                <div class="article-date">
                  <i class="fas fa-calendar"></i>
                  <span>Nov 22, 2025</span>
                </div>
              </div>
              <button class="read-more">Read More</button>
              <div class="article-category">Nutrition</div>
            </div>

            <!-- Supplements Guide -->
            <div class="article-card">
              <div class="article-icon">üíä</div>
              <h3 class="article-title">Supplements: What You Really Need</h3>
              <p class="article-description">
                Cut through the supplement marketing and learn what actually
                works
              </p>
              <div class="article-meta">
                <div class="article-author">
                  <i class="fas fa-user"></i>
                  <span>Charles Cacam</span>
                </div>
                <div class="article-date">
                  <i class="fas fa-calendar"></i>
                  <span>Nov 8, 2025</span>
                </div>
              </div>
              <button class="read-more">Read More</button>
              <div class="article-category">Nutrition</div>
            </div>

            <!-- Meal Timing -->
            <div class="article-card">
              <div class="article-icon">‚è∞</div>
              <h3 class="article-title">Meal Timing for Maximum Results</h3>
              <p class="article-description">
                When to eat for optimal muscle growth, fat loss, and energy
                levels
              </p>
              <div class="article-meta">
                <div class="article-author">
                  <i class="fas fa-user"></i>
                  <span>Joshua Mortejo</span>
                </div>
                <div class="article-date">
                  <i class="fas fa-calendar"></i>
                  <span>Oct 18, 2025</span>
                </div>
              </div>
              <button class="read-more">Read More</button>
              <div class="article-category">Nutrition</div>
            </div>

            <!-- Healthy Snacks -->
            <div class="article-card">
              <div class="article-icon">ü•ú</div>
              <h3 class="article-title">
                Healthy Snacks for Active Lifestyles
              </h3>
              <p class="article-description">
                Quick and nutritious snack ideas to fuel your workouts and
                recovery
              </p>
              <div class="article-meta">
                <div class="article-author">
                  <i class="fas fa-user"></i>
                  <span>Angelou Carino</span>
                </div>
                <div class="article-date">
                  <i class="fas fa-calendar"></i>
                  <span>Oct 2, 2025</span>
                </div>
              </div>
              <button class="read-more">Read More</button>
              <div class="article-category">Nutrition</div>
            </div>

            <!-- Intermittent Fasting -->
            <div class="article-card">
              <div class="article-icon">üçΩÔ∏è</div>
              <h3 class="article-title">
                Intermittent Fasting: A Complete Guide
              </h3>
              <p class="article-description">
                Everything you need to know about intermittent fasting for
                health and fitness
              </p>
              <div class="article-meta">
                <div class="article-author">
                  <i class="fas fa-user"></i>
                  <span>Erhyl Dhee Toraja</span>
                </div>
                <div class="article-date">
                  <i class="fas fa-calendar"></i>
                  <span>Sep 25, 2025</span>
                </div>
              </div>
              <button class="read-more">Read More</button>
              <div class="article-category">Nutrition</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Article Modal -->
    <div id="articleModal" class="modal">
      <div class="modal-content article-modal-content">
        <span class="close">&times;</span>
        <div id="articleContent">
          <!-- Article content will be populated here -->
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <div class="footer-logo">
              <img
                src="images/image 66.png"
                alt="6Titans Logo"
                class="logo-icon"
              />
              <img src="images/image 67.png" alt="6Titans" class="logo-text" />
            </div>
            <p>Transform your body, transform your life.</p>
          </div>

          <div class="footer-section">
            <h4>Support</h4>
            <ul>
              <li><a href="#">Help Center</a></li>
              <li><a href="#">Contact Us</a></li>
              <li><a href="#">Privacy Policy</a></li>
              <li><a href="#">Terms of Service</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h4>Follow Us</h4>
            <div class="social-links">
              <a href="#"><i class="fab fa-facebook"></i></a>
              <a href="#"><i class="fab fa-instagram"></i></a>
              <a href="#"><i class="fab fa-twitter"></i></a>
              <a href="#"><i class="fab fa-youtube"></i></a>
            </div>
          </div>
        </div>
        <div class="footer-bottom">
          <p>&copy; 2024 6Titans. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <script src="auth.js"></script>
    <script src="utils.js"></script>
    <script src="api.js"></script>
    <script type="module">
      // Initialize role guard to protect against pending coaches
      import { initRoleGuard } from "./role-guard.js";
      initRoleGuard({ requireAuth: false }); // Public page but check for pending coaches
    </script>
    <script src="script.js"></script>
    <script src="articles.js"></script>

    <script type="module">
      function showUserUI(userData) {
        const authButtons = document.getElementById('authButtons');
        const isAdmin = userData && (userData.accountType === 'admin' || userData.role === 'admin');
        const isCoach = userData && (userData.accountType === 'coach' || userData.role === 'coach');
        
        if (authButtons) {
          authButtons.style.visibility = 'visible';
          authButtons.innerHTML = `
            <div class="profile-dropdown ${isAdmin ? 'admin-profile' : ''}" id="profileDropdown">
              <button class="profile-btn" id="profileBtn">
                <span class="profile-avatar">üë§</span>
                <span id="navUserName">${isAdmin ? 'Admin' : (userData && userData.firstName ? userData.firstName : 'User')}</span>
                <i class="fa fa-caret-down"></i>
              </button>
              <div class="profile-menu" id="profileMenu">
                <div class="profile-menu-header">
                  <span id="profileMenuName">${isAdmin ? 'Admin' : (userData && userData.firstName ? userData.firstName : 'User')} ${!isAdmin && userData && userData.lastName ? userData.lastName : ''}</span><br>
                  <small id="profileMenuEmail">${userData && userData.email ? userData.email : (userData && userData.uid ? userData.uid : '')}</small>
                </div>
                <ul class="profile-menu-list">
                  <li>
                    <a href="#" id="openNotif">
                      <i class="fas fa-bell"></i> Notifications
                      <span class="notif-badge" id="notifBadgeDd" style="display:none;background:#ff6b6b;color:#fff;border-radius:999px;padding:2px 8px;font-size:10px;margin-left:8px;">0</span>
                    </a>
                  </li>
                  <li><a href="${isAdmin ? 'admin.html' : (isCoach ? 'coach-dashboard.html' : 'user-dashboard.html')}">${isAdmin ? 'Admin Panel' : 'Dashboard'}</a></li>
                  <li><a href="#" id="profileViewBtn">View Profile</a></li>
                  <li><button id="logoutBtnNav">Logout</button></li>
                </ul>
              </div>
            </div>
          `;
          // Dropdown logic
          const dropdown = document.getElementById('profileDropdown');
          const btn = document.getElementById('profileBtn');
          if (btn && dropdown) {
            btn.addEventListener('click', (e) => {
              e.stopPropagation();
              dropdown.classList.toggle('open');
            });
            document.addEventListener('click', (e) => {
              if (!dropdown.contains(e.target)) dropdown.classList.remove('open');
            });
          }
          // Dropdown notifications panel
          let notifPanel = document.getElementById('dropdownNotifPanel');
          if (!notifPanel) {
            notifPanel = document.createElement('div');
            notifPanel.id = 'dropdownNotifPanel';
            notifPanel.style.position = 'absolute';
            notifPanel.style.right = '16px';
            notifPanel.style.top = '72px';
            notifPanel.style.background = '#1a1a1a';
            notifPanel.style.border = '1px solid #333';
            notifPanel.style.borderRadius = '8px';
            notifPanel.style.padding = '10px';
            notifPanel.style.minWidth = '280px';
            notifPanel.style.maxHeight = '50vh';
            notifPanel.style.overflow = 'auto';
            notifPanel.style.display = 'none';
            notifPanel.style.zIndex = '2200';
            notifPanel.innerHTML = `<div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:6px;"><strong style="color:#ffd700">Notifications</strong><button id="markAllRead" style="background:#2a2a2a;border:1px solid #333;color:#fff;padding:4px 8px;border-radius:6px;cursor:pointer">Mark all read</button></div><div id="notifList" style="display:flex;flex-direction:column;gap:6px;"></div>`;
            document.body.appendChild(notifPanel);
          }
          const openNotif = document.getElementById('openNotif');
          const badgeDd = document.getElementById('notifBadgeDd');
          if (openNotif && auth && rtdb) {
            const userNow = auth.currentUser;
            let notifCache = {};
            if (userNow) {
              onValue(ref(rtdb, 'notifications/' + userNow.uid), (snap) => {
                notifCache = snap.val() || {};
                const unread = Object.values(notifCache).filter(n => n && n.read === false).length;
                if (badgeDd) { badgeDd.style.display = unread > 0 ? 'inline-block' : 'none'; badgeDd.textContent = String(unread); }
                const list = document.getElementById('notifList');
                if (list) {
                  const entries = Object.entries(notifCache).slice(-10).reverse();
                  list.innerHTML = entries.map(([id, n]) => `<div style="padding:8px;border:1px solid #333;border-radius:6px;color:#ddd;background:${n.read ? '#161616' : '#202020'};"><div style="color:#ffd700;font-weight:600;">${n.type || 'notice'}</div><div>${n.message || ''}</div><small style="color:#888;">${new Date(n.createdAt || Date.now()).toLocaleString()}</small></div>`).join('') || '<div style="color:#888;padding:8px;text-align:center;">No notifications</div>';
                }
              });
            }
            openNotif.addEventListener('click', (e)=>{ e.preventDefault(); notifPanel.style.display = notifPanel.style.display==='none'?'block':'none'; });
            document.addEventListener('click', (e)=>{ if (notifPanel.style.display==='block' && !e.target.closest('#openNotif') && !e.target.closest('#dropdownNotifPanel')) notifPanel.style.display='none'; });
            const markAll = document.getElementById('markAllRead');
            if (markAll) {
              markAll.addEventListener('click', async () => {
                try {
                  const updates = {};
                  Object.entries(notifCache).forEach(([id, n]) => { if (n && n.read === false) updates['notifications/' + userNow.uid + '/' + id + '/read'] = true; });
                  if (Object.keys(updates).length > 0) await update(ref(rtdb), updates);
                } catch {}
              });
            }
          }
          // Logout logic
          const logoutBtn = document.getElementById('logoutBtnNav');
          if (logoutBtn) {
            logoutBtn.addEventListener('click', async (e) => {
              e.preventDefault();
              try {
                await signOut(auth);
                window.location.href = 'articles.html';
              } catch (error) {
                alert('Logout failed: ' + error.message);
              }
            });
          }
          // Profile modal logic
          const profileViewBtn = document.getElementById('profileViewBtn');
          if (profileViewBtn) {
            profileViewBtn.addEventListener('click', (e) => {
              e.preventDefault();
              showProfileModal(userData);
            });
          }
        }
      }
      function showGuestUI() {
        const authButtons = document.getElementById('authButtons');
        if (authButtons) {
          authButtons.innerHTML = `
            <a href="login.html" id="loginBtnNav">Login</a>
            <a href="register.html" id="signupBtnNav">Sign Up</a>
          `;
          authButtons.style.visibility = 'visible';
        }
      }
      function showProfileModal(userData) {
        // Remove existing modal if present
        const oldModal = document.getElementById('profileModal');
        if (oldModal) oldModal.remove();
        const modal = document.createElement('div');
        modal.id = 'profileModal';
        modal.style.position = 'fixed';
        modal.style.top = '0';
        modal.style.left = '0';
        modal.style.width = '100vw';
        modal.style.height = '100vh';
        modal.style.background = 'rgba(0,0,0,0.7)';
        modal.style.display = 'flex';
        modal.style.alignItems = 'center';
        modal.style.justifyContent = 'center';
        modal.style.zIndex = '3000';
        modal.innerHTML = `
          <div style="background:#181818;padding:2.5rem 2rem 2rem 2rem;border-radius:18px;min-width:320px;max-width:95vw;box-shadow:0 8px 32px #0008;position:relative;">
            <button id="closeProfileModal" style="position:absolute;top:1rem;right:1rem;background:none;border:none;font-size:1.5rem;color:#ffd700;cursor:pointer;">&times;</button>
            <div style="display:flex;align-items:center;gap:1.2rem;margin-bottom:1.5rem;">
              <span style="font-size:2.5rem;">üë§</span>
              <div>
                <div style="font-size:1.3rem;font-weight:700;color:#ffd700;">${userData && userData.firstName ? userData.firstName : ''} ${userData && userData.lastName ? userData.lastName : ''}</div>
                <div style="font-size:1rem;color:#fff;">${userData && userData.email ? userData.email : ''}</div>
              </div>
            </div>
            <div style="margin-bottom:1.2rem;">
              <strong>Account Type:</strong> <span style="color:#ffd700;">${userData && userData.accountType ? userData.accountType : 'Member'}</span>
            </div>
            <div style="margin-bottom:1.2rem;">
              <strong>UID:</strong> <span style="color:#fff;">${userData && userData.uid ? userData.uid : ''}</span>
            </div>
            <div style="margin-bottom:1.2rem;">
              <strong>Joined:</strong> <span style="color:#fff;">${userData && userData.createdAt ? new Date(userData.createdAt.seconds*1000).toLocaleDateString() : 'N/A'}</span>
            </div>
            <button style="margin-top:1.5rem;padding:0.7rem 1.5rem;background:#ffd700;color:#111;font-weight:700;border:none;border-radius:8px;cursor:pointer;">Edit Profile (Coming Soon)</button>
          </div>
        `;
        document.body.appendChild(modal);
        document.getElementById('closeProfileModal').onclick = () => modal.remove();
        modal.onclick = (e) => { if (e.target === modal) modal.remove(); };
      }
      onAuthStateChanged(auth, async (user) => {
        if (user) {
          // Fetch user info from Firestore
          const userDoc = await getDoc(doc(db, "users", user.uid));
          const userData = userDoc.exists() ? userDoc.data() : null;
          showUserUI(userData);
        } else {
          showGuestUI();
        }
      });
    </script>
  </body>
</html>
